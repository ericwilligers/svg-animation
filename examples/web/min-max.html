<!DOCTYPE html>
<html>
  <body>
    <svg>
      <rect id="first" x="10" y="110" width="100" height="10" fill="blue"/>
      <rect id="second" x="10" y="120" width="200" height="10" fill="blue"/>
      <rect id="third" x="10" y="130" width="300" height="10" fill="blue"/>
    </svg>
    <script src="../web-animations.js"></script>
    <script>
      'use strict';

      var firstPlayer = first.animate([{fill: 'white'}, {fill: 'red'}], {duration: 2000});
      document.timeline.play(new Animation(null, [], 1000)).onfinish = function() { firstPlayer.cancel(); };

      // We could use a keyframe to freeze the effect, but note that strategy isn't available with motion path effects.
      // var secondPlayer = second.animate([{fill: 'white'}, {fill: 'red', offset: 0.5}, {fill: 'red'}], {duration: 2000});
      var secondPlayer = second.animate([{fill: 'white'}, {fill: 'red'}], {duration: 1000, fill: 'forwards'});
      document.timeline.play(new Animation(null, [], 2000)).onfinish = function() { secondPlayer.cancel(); };

      third.animate([{fill: 'white'}, {fill: 'red'}], {duration: 3000});
    </script>
  </body>
</html>
